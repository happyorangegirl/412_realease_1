<div class=row><h4><a ui-sref=index class="btn btn-lg btn-link">{{nav.component.release.product.name}}</a> <span class=path-divider>/</span><a ui-sref="products.show.releases.show.subs.index({ productId: nav.component.release.product.id, releaseId: nav.component.release.id})" ui-sref-opts={reload:true} class="btn btn-lg btn-link">{{nav.component.release.version}}</a> <span ng-if=nav.repo><span class=path-divider>/</span> <a ui-sref="components.show({componentId: nav.component.id})" ui-sref-opts={reload:true} class="btn btn-lg btn-link">{{nav.component.name}}</a></span> <span ng-show=nav.repo.meta.name><span class=path-divider>/</span> <a ui-sref="components.show.rv.show({ componentId: nav.component.id, repoId: nav.repo.id})" ui-sref-opts={reload:true} class="btn btn-lg btn-link">{{nav.repo.meta.name}} ({{nav.repo.tree}})</a></span> <span ng-show=nav.pack.meta.name><span class=path-divider>/</span> <a ui-sref="components.show.repo.show.pv.show({ componentId: nav.component.id, repoId: nav.repo.id, packId: nav.pack.id})" ui-sref-opts={reload:true} class="btn btn-lg btn-link" style="color: black;">{{nav.pack.meta.name}}-{{nav.pack.version}}</a></span></h4></div><div class=row ng-show="$stateParams.componentId && !$stateParams.repoId && $state.$current.name !== 'components.show.rv.new'"><div class="row pull-right"><button type=button class="btn btn-default" title="add repo" ng-click="$state.go('components.show.rv.new', {componentId: $stateParams.componentId})">Add Repo manually</button></div><table class="table table-striped"><thead><th></th></thead><td>Actions</td><td><a ng-click="sortType = 'repo.name'; sortReverse = !sortReverse;">Repo Name</a></td><td><a ng-click="sortType = 'tree'; sortReverse = !sortReverse;">Version</a></td><td><a ng-click="sortType = 'repo.clone_url'; sortReverse = !sortReverse;">URL</a></td><td>Permission</td><td><a ng-click="sortType = 'lang'; sortReverse = !sortReverse;">Languages</a></td><td style="width: 18%">Status</td><tbody ng-repeat="repo in component.repos | orderBy: sortType: sortReverse"><tr><td><a ng-click=runRepoTask(repo.id) title=Run class=btn-link><i class=fa ng-class="{'fa-play': !repo.stacked.length, 'fa-repeat': !!repo.stacked.length}"></i></a>&nbsp; <a ng-click="$state.go('components.show.rv.edit', {componentId: $stateParams.componentId,repoId:repo.id})" title=Edit class=btn-link><i class="fa fa-edit"></i></a>&nbsp; <a ng-click=deleteRepoVersion($event,rv) title=Remove class=btn-link><i class="fa fa-times"></i></a></td><td><a ui-sref="components.show.rv.show({componentId: $stateParams.componentId, repoId: repo.id})">{{repo.meta.name}}</a></td><td>{{repo.tree }}</td><td><a href={{repo.meta.clone_url}} target=_blank>{{repo.meta.clone_url}}</a></td><td><i class="fa fa-lock" title="Can't access!" ng-show="repo.meta.privilege[0]==='0'"></i> <i class="fa fa-unlock" title="Can access!" ng-show="repo.meta.privilege[0]==='1'"></i></td><td><span ng-repeat="lang in repo.user_languages">{{lang}}<i ng-if=!$last>,</i></span></td><td><uib-progress><uib-bar ng-repeat="bar in repo.stacked track by $index" value=bar.value type={{bar.type}}><span ng-hide="bar.value < 5">{{bar.value|number:1}}%</span></uib-bar></uib-progress></td></tr><tr ng-if="repo.sub_repos.length > 0"><td colspan=7 style="padding-left: 0; padding-right: 0"><table class="sub-repos table-striped"><tr ng-repeat="sub_repo in repo.sub_repos | orderBy: sortType: sortReverse"><td><a ng-click=runRepoTask(sub_repo.id) title=Run class=btn-link><i class=fa ng-class="{'fa-play': !sub_repo.stacked.length, 'fa-repeat': !!sub_repo.stacked.length}"></i></a>&nbsp; <a ng-click="$state.go('components.show.rv.edit', {componentId: $stateParams.componentId,repoId:sub_repo.id})" class=btn-link title=Edit><i class="fa fa-edit"></i></a>&nbsp; <a ng-click="deleteRepoVersion($event, sub_repo)" title=Remove class=btn-link><i class="fa fa-times"></i></a></td><td><a ui-sref="components.show.rv.show({componentId: $stateParams.componentId, repoId: sub_repo.id})">{{sub_repo.meta.name}}</a></td><td>{{sub_repo.tree }}</td><td><a href={{sub_repo.meta.clone_url}} target=_blank>{{sub_repo.meta.clone_url}}</a></td><td><i class="fa fa-lock" title="Can't access!" ng-show="sub_repo.meta.privilege[0]==='0'"></i> <i class="fa fa-unlock" title="Can access!" ng-show="sub_repo.meta.privilege[0]==='1'"></i></td><td><span ng-repeat="lang in sub_repo.user_languages">{{lang}}<i ng-if=!$last>,</i></span></td><td><uib-progress><uib-bar ng-repeat="bar in sub_repo.stacked track by $index" value=bar.value type={{bar.type}}><span ng-hide="bar.value < 5">{{bar.value|number:1}}%</span></uib-bar></uib-progress></td></tr></table></td></tr></tbody><tr ng-hide=component.repos.length><td colspan=5 class=text-center>No {{components.length}} contents</td></tr></table></div><div class=row><ui-view></ui-view></div><script type=text/ng-template id=runRepoTaskOk.html><div class="modal-header"> <h3 class="modal-title text-success">Congratulations! </h3> </div> <div class="modal-body"> You start a new Repo task. Please wait the job complete, thanks. </div> <div class="modal-footer"> <button class="btn btn-primary" type="button" ng-click="ok()">OK</button> </div></script><script type=text/ng-template id=runRepoTaskError.html><div class="modal-header"> <h3 class="modal-title text-danger">Oops! </h3> </div> <div class="modal-body"> Failed to start the Repo task . Please check the app log or contact the admin, thanks. </div> <div class="modal-footer"> <button class="btn btn-primary" type="button" ng-click="ok()">OK</button> </div></script>