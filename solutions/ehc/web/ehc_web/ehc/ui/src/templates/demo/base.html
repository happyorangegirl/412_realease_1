<ui-view></ui-view>

<style type="text/css">
  
  textarea {
    /*padding: 10px;*/
  }
</style>

<div class="BDL" ui-i18n="en">
  
  <!-- <h1 style="margin: 10px 0; ">
    TODO: dropdown list to chose {workflow_name} <br/>
    TODO: write json-schema for each workflow <br/>
    TODO: dump json to target yaml -->
    <!-- <button class="btn btn-primary pull-right" ng-click="saveJSON()" ng-show="1">Save</button> -->
  </h1>

  <div>
    <div style="display: inline-block; line-height: 33px; font-weight:33px;">Workflow Template: </div>
    <ui-select ng-model="DemoCtrl.selected_workflow"
               theme="bootstrap"
               title="fuck2 a workflow to edit:"
               autofocus="true"
               style="width: 30%; display: inline-block; margin: 10px; top: 10px;"
               on-select="onSelectWorkflow($item, $model);">
      <ui-select-match placeholder="Fuck your workflow" ui-lock-choice="">{{$select.selected.workflow.split('S')[0] + 'S'}}</ui-select-match>
      <ui-select-choices repeat="wf in workflows | filter: $select.search" refresh-delay="0">

          <div ng-bind-html="wf.workflow.split('S')[0] + 'S' | highlight: $select.search" title={{wf.workflow}}></div>
      </ui-select-choices>
    </ui-select>
    <!-- TODO: add Cookie() to cache latest choice  -->
    <div style="display: inline-block; line-height: 33px; font-weight:33px;">
      <button class="btn btn-default"
              ng-click="exportEditorData(data.schema, data.schema_filename, editor.getValue())"
              ng-disabled="!valid">Export</button>
    </div>
  
  </div>
  
  
  <!-- JSON Editor root element  -->
  <div id="editor_holder" style="width: 50%"></div>
</div>



<script type="text/ng-template" id="rawTextSaveSuccess.html">
    <div class="modal-header">
        <h3 class="modal-title">{{actionResult.title}}</h3>
    </div>
    <div class="modal-body">
        {{ actionResult.detail }}
    </div>
    <div class="modal-footer">
        <button class="btn btn-primary" type="button" ng-click="ok()">OK</button>
        <!-- <button class="btn btn-warning" type="button" ng-click="cancel()" ng-show="actionResult.error">Refresh</button> -->
        <!-- <button class="btn btn-warning" type="button" ng-click="refresh()" ng-show="actionResult.error">Refresh</button> -->
    </div>
</script>  

<script type="text/ng-template" id="rawTextSaveFailed.html">
    <div class="modal-header text-danger">
        <h3 class="modal-title ">{{actionResult.title}}</h3>
    </div>
    <div class="modal-body">
        {{ actionResult.detail }}
    </div>
    <div class="modal-footer">
        <button class="btn btn-primary" type="button" ng-click="reload()">Reload</button>
        <!-- <button class="btn btn-warning" type="button" ng-click="cancel()" ng-show="actionResult.error">Refresh</button> -->
        <!-- <button class="btn btn-warning" type="button" ng-click="refresh()" ng-show="actionResult.error">Refresh</button> -->
    </div>
</script>  

